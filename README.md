

# Git 分支命名与提交规范

**本部分旨在规范团队在使用 Git 进行版本控制时的分支命名和提交信息格式，以提高团队协作效率。**

## 分支命名规范

1. 主要分支命名：

   - `main` 或 `master`：主开发分支，包含最新的稳定代码。
   - `develop` 或 `dev`：开发分支，用于合并新功能和修复的分支，作为下一个版本的基础。

2. 功能开发、bug 修复和其他类型的分支命名格式：`<type>/<description>[-issue-number]`。其中：

   - `<type>`：分支类型，例如：`feature`（新功能）、`fix`（修复 bug）、`hotfix`（紧急修复）、`release`（发布版本）等。
   - `<description>`：简短地描述分支的主要内容，使用连字符（-）连接单词。
   - `issue-number`（可选）：与分支相关的 issue 编号，例如：`#123`。

   示例：
   - 功能开发分支：`feature/user-authentication`
   - Bug 修复分支：`fix/incorrect-password-validation-#234`
   - 紧急修复分支：`hotfix/security-vulnerability`
   - 发布版本分支：`release/v1.2.0`

3. 使用小写字母和连字符（-）作为单词分隔符，避免使用空格、下划线或大写字母。

4. 尽量使分支名称简洁明了，方便其他团队成员快速了解分支的用途。

## 提交信息格式

采用以下格式：`<type>(<scope>): <subject>`。其中：

- `<type>`: 描述提交类型，例如：feat（新功能）、fix（修复bug）、docs（文档）、style（格式化）、refactor（重构）、test（测试）等。
- `<scope>`: 提交涉及的功能模块，例如：用户界面、数据库、后端等。
- `<subject>`: 简短地描述提交的主要内容。

示例：`feat(auth): add login with email and password`

### 其他提交信息规范

1. 提交信息应简洁且明确，避免使用模糊不清的描述。描述应能让其他团队成员快速了解提交的内容。
2. 使用英文撰写提交信息，方便团队间的沟通与交流。
3. 遵循提交原子性原则，每次提交只包含一个逻辑功能点，避免多个功能点混合在一个提交中。
4. 如果需要添加更详细的描述，可以在提交信息中添加一个空行，然后在下一行开始撰写详细描述。

# 代码文档编写要求

**为了确保代码易于理解和维护，请在编写代码时遵循以下文档编写要求：**

## 类名

请为每个类提供一个简洁明了的名称，反映其主要功能。

## 类描述

### 主要功能

- 请简要说明该类的主要作用，例如："该类负责用户身份验证"。

### 成员变量

请列出类中的主要成员变量，并简要说明它们的作用：

- `memberVariable1`：成员变量1的主要含义
- `memberVariable2`：成员变量2的主要含义
- ...

### 成员函数

请列出类中的主要成员函数，并简要说明它们的作用：

- `memberFunction1()`：成员函数1的主要含义
- `memberFunction2()`：成员函数2的主要含义
- ...

### 重点函数分析

对于类中的关键或复杂函数，请进行更详细的分析，包括：

**函数名称**
- 函数的输入和输出参数
- 函数的主要执行逻辑
- 可能出现的异常或错误处理
- 如何与其他类或函数进行交互

**这有助于其他开发人员更好地理解代码的工作原理，从而提高团队协作效率。**

请遵循以上要求编写代码文档，并确保文档与代码保持一致。这将使项目更加易于理解和维护，提高团队协作效率。

# 代码规范

本文档为项目中C++代码规范，旨在确保代码可读性和一致性。

## 命名方式

1. **局部变量**：使用小写字母与下划线（例如：`my_local_variable`）。
2. **类名**：使用大写字母开头的驼峰命名法（例如：`MyClass`）。
3. **常量名**：使用全大写字母和下划线（例如：`CONSTANT_VALUE`）。
4. **函数（与类成员函数）名**：使用小写字母开头的驼峰命名法（例如：`myFunction`）。
   1. 如果该函数不希望其他人使用，应以`__`开头（例如：`__myPrivateFunction`）。
   2. 命名应以动词开头。
5. **类的成员变量**：在变量名后面加下划线（例如：`myMemberVariable_`）。
6. **函数的参数**：在变量名前面加下划线（例如：`_myParameter`）。
7. **全局变量**：在变量名前面加`g_`前缀（例如：`g_myGlobalVariable`）。
8. **枚举类**：使用大写字母开头的驼峰命名法（例如：`MyClass`）。

## 其他要求
### 注释

1. 为每个类、函数和重要的数据结构编写文档注释，说明它们的目的和用法。
2. 对于不直观的代码片段，请添加内联注释进行解释。
3. 注释要保持简洁明了，避免过多冗余信息。

### 格式化

1. 使用空格而不是制表符（tab）进行缩进，推荐缩进宽度为4个空格。
2. 每行代码长度不超过80个字符。
3. 在运算符和关键字周围添加空格，以提高代码可读性（例如：`if (a + b > c)`）。
4. 代码块使用大括号（{}）进行分隔，左大括号与前一行代码同行，右大括号与下一行代码对齐（例如：`if (condition) {`）。
5. 函数、类定义之间要保留一个空行。

### 代码组织

1. 每个文件只包含一个主要的类或功能。
2. 将相关的函数和类放在同一个命名空间中。
3. 在合适的情况下，将函数声明和实现分离到头文件（.h）和源文件（.cpp）中。

### 错误处理和异常

1. 使用异常进行错误处理，避免返回错误代码。
2. 在可能抛出异常的代码段周围使用try-catch语句进行异常处理。

### C++核心准则
以下是C++核心准则的部分内容概要：

1. **接口**：使接口易于使用、理解和安全，优先使用类和函数，而非宏和全局变量。使用异常处理错误，避免使用错误码。
2. **函数**：函数尽量保持短小，只执行一个任务。使用参数传递输入，返回值或参数传递输出。避免使用输出参数（除非必要）。
3. **类和对象**：保持类成员的封装性，对外暴露最少必要接口。为类定义拷贝和移动操作（如复制构造函数、移动构造函数、赋值操作符等）。为资源管理使用RAII（资源获取即初始化）原则。
4. **表达式和语句**：使用类型安全的语言特性（如范围for循环、nullptr等）。使用const关键字来标识不会被修改的变量和函数。使用算法和容器库，避免编写重复代码。
5. **错误处理**：使用异常进行错误处理，避免返回错误代码。仅在你知道如何处理错误时捕获异常。
6. **并发**：使用现代C++支持的并发特性（如std::thread、std::async、std::mutex等）。避免使用裸指针和全局变量来管理共享资源。
7. **性能**：避免过早优化，先关注代码可读性和正确性。确保代码逻辑正确后，再考虑优化性能。

请在编写C++代码时遵循这些准则，以提高代码质量。更详细的内容请参考官方文档（[CppCoreGuidelines](https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md)）。
